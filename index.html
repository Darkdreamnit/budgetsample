<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GYTHNW4T2S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GYTHNW4T2S');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <title>Event Budget Sample | Professional Event Cost Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.19.3/package/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.19.3/package/dist/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
</head>
<body class="bg-gray-50 min-h-screen">
   

    <!-- Header -->
    <header class="gradient-bg text-white">
        <div class="container mx-auto px-4 py-8">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-money-bill-wave text-3xl"></i>
                    <h1 class="text-2xl font-bold">Event Budget Sample</h1>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <a href="index.html" class="hover:text-indigo-200 transition">Home</a>
                    <a href="calculator.html" class="hover:text-indigo-200 transition">Calculator</a>
                    <a href="contact.html" class="hover:text-indigo-200 transition">Contact</a>
                </nav>
                <button id="mobileMenuButton" class="md:hidden text-xl">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <!-- Mobile Menu -->
            <div id="mobileMenu" class="mobile-menu md:hidden bg-indigo-700 rounded-lg mt-4">
                <div class="flex flex-col space-y-3 p-4">
                    <a href="index.html" class="hover:text-indigo-200 transition">Home</a>
                    <a href="calculator.html" class="hover:text-indigo-200 transition">Calculator</a>
                    <a href="guest-list-manager.html" class="hover:text-indigo-200 transition">Guest List Manager</a>
                    <a href="event-checklist-generator.html" class="hover:text-indigo-200 transition">Event Checklist Generator</a>
                    <a href="contact.html" class="hover:text-indigo-200 transition">Contact</a>
                </div>
            </div>

            <div class="mt-16 mb-20 text-center">
                <h2 class="text-4xl md:text-5xl font-bold mb-4">Professional Event Budget Calculator</h2>
                <p class="text-xl md:text-2xl max-w-3xl mx-auto">Use our budgeting tool to plan your next event with precision</p>
                <p>Our tool allows you to take a stock budget and edit it to fit your needs. You are then able to download the budget in excel format or even pdf format.
                    </p>
                    <p>You also have the option of building a budget of your own from scratch. Just click the button labeled "Custom Budget" and you are on way way to making the best budget that meets your needs.
                        </p>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-4 lg:py-8">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Desktop Sidebar -->
            <aside class="lg:w-1/4 bg-white p-6 rounded-xl shadow-md h-fit lg:sticky lg:top-8 desktop-menu">
                <h2 class="text-xl font-semibold mb-6 text-indigo-700">Budget Templates</h2>
                <ul class="space-y-3">
                    <li>
                        <button onclick="filterTemplates('all')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-indigo-50 text-indigo-600 font-medium transition">
                            <i class="fas fa-layer-group mr-2"></i>All Templates
                        </button>
                    </li>
                    <li>
                        <button onclick="filterTemplates('wedding')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-indigo-50 text-indigo-600 transition">
                            <i class="fas fa-ring mr-2"></i>Weddings
                        </button>
                    </li>
                    <li>
                        <button onclick="filterTemplates('conference')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-indigo-50 text-indigo-600 transition">
                            <i class="fas fa-users mr-2"></i>Conferences
                        </button>
                    </li>
                    <li>
                        <button onclick="filterTemplates('fundraiser')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-indigo-50 text-indigo-600 transition">
                            <i class="fas fa-hand-holding-heart mr-2"></i>Fundraisers
                        </button>
                    </li>
                    <li>
                        <button onclick="filterTemplates('party')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-indigo-50 text-indigo-600 transition">
                            <i class="fas fa-glass-cheers mr-2"></i>Parties
                        </button>
                    </li>
                </ul>
                
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <h3 class="font-medium text-gray-700 mb-3">Create New Budget</h3>
                    <button onclick="openCustomBudgetModal()" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition flex items-center justify-center">
                        <i class="fas fa-plus mr-2"></i> Custom Budget
                    </button>
                </div>

                <div class="mt-8 pt-6 border-t border-gray-200 lg:hidden">
                    <h3 class="font-medium text-gray-700 mb-3">Download All</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="downloadAllTemplates('excel')" class="bg-green-600 text-white py-2 px-3 rounded-lg hover:bg-green-700 transition flex items-center justify-center text-sm">
                            <i class="fas fa-file-excel mr-2"></i> Excel
                        </button>
                        <button onclick="downloadAllTemplates('pdf')" class="bg-red-600 text-white py-2 px-3 rounded-lg hover:bg-red-700 transition flex items-center justify-center text-sm">
                            <i class="fas fa-file-pdf mr-2"></i> PDF
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <div class="lg:w-3/4">
                <div class="bg-white p-6 rounded-xl shadow-md mb-8">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl lg:text-2xl font-bold text-gray-800">Find Your Perfect Budget Template</h2>
                    </div>
                                        
                    <div id="templates-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Templates will be loaded here by JavaScript -->
                    </div>
                </div>
                                
                <div id="selected-template-container" class="hidden bg-white p-6 rounded-xl shadow-md slide-in">
                    <div class="flex justify-between items-center mb-6">
                        <h2 id="template-title" class="text-xl lg:text-2xl font-bold text-gray-800"></h2>
                        <button onclick="closeTemplateView()" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                                        
                    <div class="mb-6">
                        <div class="flex justify-between mb-2">
                            <span class="font-medium">Budget Progress</span>
                            <span id="budget-percentage" class="font-medium">0%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div id="progress-bar" class="progress-bar bg-indigo-600 h-2.5 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                                        
                    <div class="mb-6">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg font-semibold">Budget Items</h3>
                            <button onclick="addNewItem()" class="text-indigo-600 hover:text-indigo-800 flex items-center">
                                <i class="fas fa-plus mr-1"></i> Add Item
                            </button>
                        </div>
                                                
                        <div id="duplicate-warning" class="duplicate-warning hidden">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="warning-message"></span>
                        </div>
                                                
                        <div id="budget-items" class="mt-4 space-y-3">
                            <!-- Budget items will be loaded here -->
                        </div>
                    </div>
                                        
                    <div class="flex flex-col md:flex-row justify-between items-center pt-4 border-t border-gray-200 space-y-4 md:space-y-0">
                        <div>
                            <p class="text-sm text-gray-500">Total Budget</p>
                            <p id="total-budget" class="text-xl lg:text-2xl font-bold">$0.00</p>
                        </div>
                        <div class="flex space-x-3">
                            <button onclick="downloadCurrentTemplate('excel')" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition flex items-center download-btn">
                                <i class="fas fa-file-excel mr-2"></i> Excel
                            </button>
                            <button onclick="downloadCurrentTemplate('pdf')" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition flex items-center download-btn">
                                <i class="fas fa-file-pdf mr-2"></i> PDF
                            </button>
                            <button onclick="saveBudget()" class="bg-indigo-600 text-white px-4 lg:px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                                <i class="fas fa-save mr-2"></i> Save Budget
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Custom Budget Modal -->
    <div id="custom-budget-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4 slide-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Create Custom Budget</h3>
                <button onclick="closeCustomBudgetModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
                        
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-1">Budget Name</label>
                    <input type="text" id="custom-budget-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                </div>
                                
                <div>
                    <label class="block text-gray-700 mb-1">Budget Type</label>
                    <select id="custom-budget-type" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <option value="custom">Custom</option>
                        <option value="wedding">Wedding</option>
                        <option value="conference">Conference</option>
                        <option value="fundraiser">Fundraiser</option>
                        <option value="party">Party</option>
                    </select>
                </div>
                                
                <div>
                    <label class="block text-gray-700 mb-1">Total Budget Amount</label>
                    <div class="relative">
                        <span class="absolute left-3 top-3">$</span>
                        <input type="number" id="custom-budget-amount" class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                </div>
            </div>
                        
            <div class="mt-6 flex justify-end space-x-3">
                <button onclick="closeCustomBudgetModal()" class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">Cancel</button>
                <button onclick="createCustomBudget()" class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">Create</button>
            </div>
        </div>
    </div>

    <!-- Add Item Modal -->
    <div id="add-item-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4 slide-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Add Budget Item</h3>
                <button onclick="closeAddItemModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
                        
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-1">Item Name</label>
                    <input type="text" id="item-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                </div>
                                
                <div>
                    <label class="block text-gray-700 mb-1">Category</label>
                    <select id="item-category" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <option value="venue">Venue</option>
                        <option value="food">Food & Beverage</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="decorations">Decorations</option>
                        <option value="staff">Staff</option>
                        <option value="marketing">Marketing</option>
                        <option value="miscellaneous">Miscellaneous</option>
                    </select>
                </div>
                                
                <div>
                    <label class="block text-gray-700 mb-1">Estimated Cost</label>
                    <div class="relative">
                        <span class="absolute left-3 top-3">$</span>
        <input type="number" id="item-cost" class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
    </div>
</div>

<div>
    <label class="block text-gray-700 mb-1">Notes (Optional)</label>
    <textarea id="item-notes" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" rows="2"></textarea>
</div>
</div>

<div class="mt-6 flex justify-end space-x-3">
    <button onclick="closeAddItemModal()" class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">Cancel</button>
    <button onclick="confirmAddItem()" class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">Add Item</button>
</div>
</div>
</div>

<script>
    // Initialize jsPDF
    const { jsPDF } = window.jspdf;
            
    // Sample template data
        const templates = [
            {
                id: 1,
                title: "Elegant Wedding",
                type: "wedding",
                description: "Comprehensive budget for a medium-scale wedding with 100-150 guests.",
                totalBudget: 25000,
                items: [
                    { name: "Venue Rental", category: "venue", cost: 8000, notes: "Includes ceremony and reception" },
                    { name: "Catering", category: "food", cost: 7000, notes: "Buffet style for 120 guests" },
                    { name: "Photography", category: "entertainment", cost: 2500, notes: "8 hours coverage" },
                    { name: "Floral Decor", category: "decorations", cost: 3000, notes: "Bridal bouquet, centerpieces" },
                    { name: "Wedding Dress", category: "miscellaneous", cost: 1500, notes: "" }
                ],
                icon: "fas fa-ring",
                color: "bg-pink-100",
                textColor: "text-pink-800"
            },
            {
                id: 2,
                title: "Corporate Conference",
                type: "conference",
                description: "Budget template for a 2-day professional conference with 200 attendees.",
                totalBudget: 35000,
                items: [
                    { name: "Conference Hall", category: "venue", cost: 12000, notes: "Includes AV equipment" },
                    { name: "Catering", category: "food", cost: 8000, notes: "Coffee breaks and lunches" },
                    { name: "Keynote Speaker", category: "entertainment", cost: 7000, notes: "Plus travel expenses" },
                    { name: "Marketing Materials", category: "marketing", cost: 3000, notes: "Brochures, banners" },
                    { name: "Staffing", category: "staff", cost: 5000, notes: "Event coordinators" }
                ],
                icon: "fas fa-users",
                color: "bg-blue-100",
                textColor: "text-blue-800"
            },
            {
                id: 3,
                title: "Charity Gala",
                type: "fundraiser",
                description: "Budget for a formal fundraising event with silent auction and dinner.",
                totalBudget: 18000,
                items: [
                    { name: "Ballroom Rental", category: "venue", cost: 6000, notes: "Includes basic setup" },
                    { name: "D dinner Service", category: "food", cost: 5000, notes: "Plated dinner for 100" },
                    { name: "Auction Items", category: "miscellaneous", cost: 4000, notes: "Procurement budget" },
                    { name: "Entertainment", category: "entertainment", cost: 2000, notes: "Jazz quartet" },
                    { name: "Invitations", category: "marketing", cost: 1000, notes: "Printed and mailed" }
                ],
                icon: "fas fa-hand-holding-heart",
                color: "bg-purple-100",
                textColor: "text-purple-800"
            },
            {
                id: 4,
                title: "Birthday Party",
                type: "party",
                description: "Budget for a fun birthday celebration with 30-50 guests.",
                totalBudget: 1500,
                items: [
                    { name: "Backyard Setup", category: "venue", cost: 200, notes: "Tent rental" },
                    { name: "Food & Drinks", category: "food", cost: 600, notes: "BBQ and beverages" },
                    { name: "Cake", category: "food", cost: 150, notes: "Custom design" },
                    { name: "Decorations", category: "decorations", cost: 200, notes: "Balloons, banners" },
                    { name: "Entertainment", category: "ent entertainment", cost: 350, notes: "DJ for 4 hours" }
                ],
                icon: "fas fa-glass-cheers",
                color: "bg-yellow-100",
                textColor: "text-yellow-800"
            },
            {
                id: 5,
                title: "Luxury Wedding",
                type: "wedding",
                description: "Premium wedding budget for a lavish celebration with all the extras.",
                totalBudget: 80000,
                items: [
                    { name: "Luxury Venue", category: "venue", cost: 25000, notes: "Exclusive resort" },
                    { name: "Gourmet Catering", category: "food", cost: 20000, notes: "5-course meal" },
                    { name: "Live Band", category: "entertainment", cost: 10000, notes: "12-piece orchestra" },
                    { name: "Premium Floral", category: "decorations", cost: 15000, notes: "Extensive floral arrangements" },
                    { name: "Videography", category: "ent entertainment", cost: 5000, notes: "Cinematic coverage" },
                    { name: "Wedding Planner", category: "staff", cost: 5000, notes: "Full service" }
                ],
                icon: "fas fa-ring",
                color: "bg-pink-100",
                textColor: "text-pink-800"
            },
            {
                id: 6,
                title: "Tech Conference",
                type: "conference",
                description: "Budget for a technology-focused conference with workshops.",
                totalBudget: 50000,
                items: [
                    { name: "Convention Center", category: "venue", cost: 18000, notes: "3-day rental" },
                    { name: "Speaker Fees", category: "entertainment", cost: 15000, notes: "5 keynote speakers" },
                    { name: "Tech Equipment", category: "miscellaneous", cost: 8000, notes: "AV, streaming setup" },
                    { name: "Swag Bags", category: "marketing", cost: 5000, notes: "For 300 attendees" },
                    { name: "Volunteer Lunch", category: "food", cost: 4000, notes: "For 50 volunteers" }
                ],
                icon: "fas fa-users",
                color: "bg-blue-100",
                textColor: "text-blue-800"
            },
            // New wedding templates
            {
                id: 7,
                title: "Intimate Wedding",
                type: "wedding",
                description: "Budget for a small, intimate wedding with 20-50 guests.",
                totalBudget: 10000,
                items: [
                    { name: "Small Venue", category: "venue", cost: 3000, notes: "Boutique hotel or garden venue" },
                    { name: "Catering", category: "food", cost: 2500, notes: "Plated dinner for 40 guests" },
                    { name: "Photography", category: "entertainment", cost: 1500, notes: "4 hours coverage" },
                    { name: "Simple Decor", category: "decorations", cost: 1000, notes: "Minimalist floral arrangements" },
                    { name: "Wedding Attire", category: "miscellaneous", cost: 2000, notes: "Bride and groom outfits" }
                ],
                icon: "fas fa-heart",
                color: "bg-pink-100",
                textColor: "text-pink-800"
            },
            {
                id: 8,
                title: "Private Wedding",
                type: "wedding",
                description: "Budget for an exclusive private wedding ceremony with close family.",
                totalBudget: 5000,
                items: [
                    { name: "Private Venue", category: "venue", cost: 1500, notes: "Family home or small chapel" },
                    { name: "Intimate Dinner", category: "food", cost: 1200, notes: "Gourmet meal for 20" },
                    { name: "Officiant", category: "staff", cost: 500, notes: "Marriage license included" },
                    { name: "Photographer", category: "entertainment", cost: 1000, notes: "2 hours coverage" },
                    { name: "Simple Attire", category: "miscellaneous", cost: 800, notes: "" }
                ],
                icon: "fas fa-user-secret",
                color: "bg-pink-100",
                textColor: "text-pink-800"
            },
            {
                id: 9,
                title: "Low Cost Wedding",
                type: "wedding",
                description: "Budget-friendly wedding options for couples on a tight budget.",
                totalBudget: 3000,
                items: [
                    { name: "Community Venue", category: "venue", cost: 500, notes: "Local park or community center" },
                    { name: "DIY Catering", category: "food", cost: 800, notes: "Potluck or self-catered" },
                    { name: "Friend Photographer", category: "entertainment", cost: 300, notes: "Gift for photography services" },
                    { name: "DIY Decor", category: "decorations", cost: 400, notes: "Handmade decorations" },
                    { name: "Simple Attire", category: "miscellaneous", cost: 1000, notes: "Budget-friendly options" }
                ],
                icon: "fas fa-piggy-bank",
                color: "bg-pink-100",
                textColor: "text-pink-800"
            }
        ];

    // Current state
    let currentTemplate = null;
    let currentItems = [];
    let currentTotal = 0;
    let currentFilter = 'all';
    let currentlyEditingIndex = -1;

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
        loadTemplates();
                
        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });
    });

    // Load templates based on filter
    function loadTemplates() {
        const container = document.getElementById('templates-container');
        container.innerHTML = '';
                
        const filteredTemplates = currentFilter === 'all' 
            ? templates 
            : templates.filter(t => t.type === currentFilter);
                
        if (filteredTemplates.length === 0) {
            container.innerHTML = `
                <div class="col-span-full text-center py-10">
                    <i class="fas fa-folder-open text-4xl text-gray-400 mb-4"></i>
                    <h3 class="text-xl font-medium text-gray-600">No templates found</h3>
                    <p class="text-gray-500 mt-2">Try selecting a different category or create a custom budget.</p>
                </div>
            `;
            return;
        }
                
        filteredTemplates.forEach(template => {
            const templateCard = document.createElement('div');
            templateCard.className = `template-card bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 transition duration-300 cursor-pointer hover:border-indigo-200`;
            templateCard.onclick = () => viewTemplate(template);
                                
            templateCard.innerHTML = `
                <div class="p-6">
                    <div class="flex items-start justify-between">
                        <div class="${template.color} ${template.textColor} w-12 h-12 rounded-full flex items-center justify-center mb-4">
                            <i class="${template.icon} text-xl"></i>
                        </div>
                        <span class="px-3 py-1 rounded-full text-xs font-medium ${template.color} ${template.textColor}">
                            ${template.type.charAt(0).toUpperCase() + template.type.slice(1)}
                        </span>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">${template.title}</h3>
                    <p class="text-gray-600 mb-4">${template.description}</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-gray-800">$${template.totalBudget.toLocaleString()}</span>
                        <button class="text-indigo-600 hover:text-indigo-800 font-medium">
                            Use Template <i class="fas fa-arrow-right ml-1"></i>
                        </button>
                    </div>
                    <div class="mt-4 flex space-x-2">
                        <button onclick="event.stopPropagation(); downloadTemplate(${template.id}, 'excel')" class="bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 transition flex items-center text-sm download-btn">
                            <i class="fas fa-file-excel mr-1"></i> Excel
                        </button>
                        <button onclick="event.stopPropagation(); downloadTemplate(${template.id}, 'pdf')" class="bg-red-600 text-white px-3 py-1 rounded-lg hover:bg-red-700 transition flex items-center text-sm download-btn">
                            <i class="fas fa-file-pdf mr-1"></i> PDF
                        </button>
                    </div>
                </div>
            `;
                                
            container.appendChild(templateCard);
        });
    }

    // Filter templates by type
    function filterTemplates(type) {
        currentFilter = type;
        loadTemplates();
                
        // Update active state in sidebar
        document.querySelectorAll('aside button').forEach(btn => {
            btn.classList.remove('bg-indigo-50', 'font-medium');
            if (btn.getAttribute('onclick').includes(type) || (type === 'all' && btn.getAttribute('onclick').includes('all'))) {
                btn.classList.add('bg-indigo-50', 'font-medium');
            }
        });
                
        // Close mobile menu if open
        document.getElementById('mobile-menu').classList.add('hidden');
    }

    // View template details
    function viewTemplate(template) {
        currentTemplate = template;
        currentItems = [...template.items];
        currentTotal = calculateTotal(currentItems);
                
        document.getElementById('template-title').textContent = template.title;
        document.getElementById('total-budget').textContent = `$${template.totalBudget.toLocaleString()}`;
        updateBudgetItems();
        updateProgressBar();
                
        document.getElementById('templates-container').classList.add('hidden');
        document.getElementById('selected-template-container').classList.remove('hidden');
    }

    // Close template view
    function closeTemplateView() {
        document.getElementById('templates-container').classList.remove('hidden');
        document.getElementById('selected-template-container').classList.add('hidden');
    }

    // Calculate total from items
    function calculateTotal(items) {
        return items.reduce((sum, item) => sum + item.cost, 0);
    }

    // Update budget items display
    function updateBudgetItems() {
        const container = document.getElementById('budget-items');
        container.innerHTML = '';
                
        currentItems.forEach((item, index) => {
            const itemElement = document.createElement('div');
            itemElement.className = 'budget-item bg-gray-50 p-4 rounded-lg flex justify-between items-center transition';
                                
            itemElement.innerHTML = `
                <div class="w-3/4">
                    <h4 class="font-medium truncate">${item.name}</h4>
                    <div class="flex items-center mt-1">
                        <span class="text-xs px-2 py-1 rounded ${getCategoryColor(item.category)} mr-2">${formatCategory(item.category)}</span>
                        <span class="text-sm text-gray-500 truncate">${item.notes || 'No notes'}</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <span class="font-bold mr-2 lg:mr-4">$${item.cost.toLocaleString()}</span>
                    <button onclick="editItem(${index})" class="text-gray-400 hover:text-indigo-600 mr-1 lg:mr-2">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button onclick="removeItem(${index})" class="text-gray-400 hover:text-red-600">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `;
                                
            container.appendChild(itemElement);
        });
        
        // Check for duplicate names after updating items
        checkForDuplicateNames();
    }

    // Check for duplicate item names
    function checkForDuplicateNames() {
        const nameCounts = {};
        const duplicateNames = [];
        
        // Count occurrences of each name
        currentItems.forEach(item => {
            nameCounts[item.name] = (nameCounts[item.name] || 0) + 1;
        });
        
        // Find names that appear more than once
        for (const name in nameCounts) {
            if (nameCounts[name] > 1) {
                duplicateNames.push(name);
            }
        }
        
        // Show warning if duplicates found
        const warningDiv = document.getElementById('duplicate-warning');
        const warningMessage = document.getElementById('warning-message');
        
        if (duplicateNames.length > 0) {
            warningDiv.classList.remove('hidden');
            warningMessage.textContent = `Duplicate item names found: ${duplicateNames.join(', ')}. Please edit or remove duplicates.`;
        } else {
            warningDiv.classList.add('hidden');
        }
    }

    // Get category color class
    function getCategoryColor(category) {
        const colors = {
            venue: 'bg-blue-100 text-blue-800',
            food: 'bg-green-100 text-green-800',
            entertainment: 'bg-purple-100 text-purple-800',
            decorations: 'bg-pink-100 text-pink-800',
            staff: 'bg-yellow-100 text-yellow-800',
            marketing: 'bg-indigo-100 text-indigo-800',
            miscellaneous: 'bg-gray-100 text-gray-800'
        };
        return colors[category] || colors.miscellaneous;
    }

    // Format category name
    function formatCategory(category) {
        return category.charAt(0).toUpperCase() + category.slice(1);
    }

    // Update progress bar
    function updateProgressBar() {
        const percentage = (currentTotal / currentTemplate.totalBudget) * 100;
        const cappedPercentage = Math.min(percentage, 100);
                
        document.getElementById('progress-bar').style.width = `${cappedPercentage}%`;
        document.getElementById('budget-percentage').textContent = `${Math.round(cappedPercentage)}%`;
                
        if (percentage > 100) {
            document.getElementById('progress-bar').classList.add('bg-red-500');
            document.getElementById('progress-bar').classList.remove('bg-indigo-600');
        } else {
            document.getElementById('progress-bar').classList.remove('bg-red-500');
            document.getElementById('progress-bar').classList.add('bg-indigo-600');
        }
    }

    // Open custom budget modal
    function openCustomBudgetModal() {
        document.getElementById('custom-budget-modal').classList.remove('hidden');
    }

    // Close custom budget modal
    function closeCustomBudgetModal() {
        document.getElementById('custom-budget-modal').classList.add('hidden');
    }

    // Create custom budget
    function createCustomBudget() {
        const name = document.getElementById('custom-budget-name').value.trim();
        const type = document.getElementById('custom-budget-type').value;
        const amount = parseFloat(document.getElementById('custom-budget-amount').value);
                
        if (!name || isNaN(amount) || amount <= 0) {
            alert('Please enter valid budget details');
            return;
        }
                
        const newTemplate = {
            id: templates.length + 1,
            title: name,
            type: type,
            description: "Your custom budget template",
            totalBudget: amount,
            items: [],
            icon: type === 'wedding' ? 'fas fa-ring' :
                  type === 'conference' ? 'fas fa-users' :
                  type === 'fundraiser' ? 'fas fa-hand-holding-heart' :
                  type === 'party' ? 'fas fa-glass-cheers' : 'fas fa-file-alt',
            color: type === 'wedding' ? 'bg-pink-100' :
                  type === 'conference' ? 'bg-blue-100' :
                  type === 'fundraiser' ? 'bg-purple-100' :
                  type === 'party' ? 'bg-yellow-100' : 'bg-gray-100',
            textColor: type === 'wedding' ? 'text-pink-800' :
                      type === 'conference' ? 'text-blue-800' :
                      type === 'fundraiser' ? 'text-purple-800' :
                      type === 'party' ? 'text-yellow-800' : 'text-gray-800'
        };
                
        templates.push(newTemplate);
        closeCustomBudgetModal();
        filterTemplates(type);
                
        // Reset form
        document.getElementById('custom-budget-name').value = '';
        document.getElementById('custom-budget-amount').value = '';
    }

    // Add new item
    function addNewItem() {
        document.getElementById('add-item-modal').classList.remove('hidden');
        // Reset form
        document.getElementById('item-name').value = '';
        document.getElementById('item-category').value = 'venue';
        document.getElementById('item-cost').value = '';
        document.getElementById('item-notes').value = '';
                
        // Set button to add mode
        const confirmBtn = document.querySelector('#add-item-modal button:last-child');
        confirmBtn.textContent = 'Add Item';
        confirmBtn.onclick = confirmAddItem;
    }

    // Close add item modal
    function closeAddItemModal() {
        document.getElementById('add-item-modal').classList.add('hidden');
    }

    // Confirm adding new item
    function confirmAddItem() {
        const name = document.getElementById('item-name').value.trim();
        const category = document.getElementById('item-category').value;
        const cost = parseFloat(document.getElementById('item-cost').value);
        const notes = document.getElementById('item-notes').value.trim();
                
        if (!name || isNaN(cost) || cost <= 0) {
            alert('Please enter valid item details');
            return;
        }
                
        // Check for duplicate name
        const duplicateIndex = currentItems.findIndex(item => item.name.toLowerCase() === name.toLowerCase());
        if (duplicateIndex !== -1) {
            if (confirm(`An item with the name "${name}" already exists. Do you want to edit the existing item instead?`)) {
                editItem(duplicateIndex);
                return;
            } else {
                return;
            }
        }
                
        const newItem = {
            name: name,
            category: category,
            cost: cost,
            notes: notes
        };
                
        currentItems.push(newItem);
        currentTotal = calculateTotal(currentItems);
        updateBudgetItems();
        updateProgressBar();
        closeAddItemModal();
    }

    // Edit item
    function editItem(index) {
        const item = currentItems[index];
        document.getElementById('item-name').value = item.name;
        document.getElementById('item-category').value = item.category;
        document.getElementById('item-cost').value = item.cost;
        document.getElementById('item-notes').value = item.notes || '';
                
        document.getElementById('add-item-modal').classList.remove('hidden');
        currentlyEditingIndex = index;
                
        // Change button to update
        const confirmBtn = document.querySelector('#add-item-modal button:last-child');
        confirmBtn.textContent = 'Update Item';
        confirmBtn.onclick = function() {
            updateItem(index);
        };
    }

    // Update item
    function updateItem(index) {
        const name = document.getElementById('item-name').value.trim();
        const category = document.getElementById('item-category').value;
        const cost = parseFloat(document.getElementById('item-cost').value);
        const notes = document.getElementById('item-notes').value.trim();
                
        if (!name || isNaN(cost) || cost <= 0) {
            alert('Please enter valid item details');
            return;
        }
                
        // Check for duplicate name (excluding the current item being edited)
        const duplicateIndex = currentItems.findIndex((item, i) => 
            i !== index && item.name.toLowerCase() === name.toLowerCase()
        );
        
        if (duplicateIndex !== -1) {
            alert(`An item with the name "${name}" already exists. Please choose a different name.`);
            return;
        }
                
        currentItems[index] = {
            name: name,
            category: category,
            cost: cost,
            notes: notes
        };
                
        currentTotal = calculateTotal(currentItems);
        updateBudgetItems();
        updateProgressBar();
        closeAddItemModal();
        currentlyEditingIndex = -1;
    }

    // Remove item
    function removeItem(index) {
        if (confirm('Are you sure you want to remove this item?')) {
            currentItems.splice(index, 1);
            currentTotal = calculateTotal(currentItems);
            updateBudgetItems();
            updateProgressBar();
        }
    }

    // Save budget
    function saveBudget() {
        // Check for duplicate names before saving
        const nameCounts = {};
        let hasDuplicates = false;
        
        currentItems.forEach(item => {
            nameCounts[item.name] = (nameCounts[item.name] || 0) + 1;
            if (nameCounts[item.name] > 1) {
                hasDuplicates = true;
            }
        });
        
        if (hasDuplicates) {
            alert('Please resolve duplicate item names before saving.');
            return;
        }
        
        // In a real app, this would save to a database
        alert('Budget saved successfully!');
        closeTemplateView();
    }

    // Download a single template
    function downloadTemplate(templateId, format) {
        const template = templates.find(t => t.id === templateId);
        if (!template) return;
                
        if (format === 'excel') {
            downloadTemplateExcel(template);
        } else if (format === 'pdf') {
            downloadTemplatePDF(template);
        }
    }

    // Download current template being viewed
    function downloadCurrentTemplate(format) {
        if (!currentTemplate) return;
                
        if (format === 'excel') {
            downloadTemplateExcel({
                ...currentTemplate,
                items: currentItems
            });
        } else if (format === 'pdf') {
            downloadTemplatePDF({
                ...currentTemplate,
                items: currentItems
            });
        }
    }

    // Download all templates
    function downloadAllTemplates(format) {
        if (format === 'excel') {
            downloadAllTemplatesExcel();
        } else if (format === 'pdf') {
            downloadAllTemplatesPDF();
        }
    }

    // Download template as Excel
    function downloadTemplateExcel(template) {
        // Prepare data for Excel
        const excelData = [
            ["Item Name", "Category", "Cost", "Notes"],
            ...template.items.map(item => [item.name, formatCategory(item.category), item.cost, item.notes || ''])
        ];
                
        // Add summary row
        excelData.push(["", "", "", ""]);
        excelData.push(["Total Budget", "", template.totalBudget, ""]);
        excelData.push(["Current Total", "", calculateTotal(template.items), ""]);
                
        // Create workbook
        const wb = XLSX.utils.book_new();
        const ws = XLSX.utils.aoa_to_sheet(excelData);
        XLSX.utils.book_append_sheet(wb, ws, "Budget");
                
        // Generate file and download
        XLSX.writeFile(wb, `${template.title.replace(/[^a-z0-9]/gi, '_')}_Budget.xlsx`);
    }

    // Download all templates as Excel
    function downloadAllTemplatesExcel() {
        // Create a new workbook
        const wb = XLSX.utils.book_new();
                
        // Add each template as a separate sheet
        templates.forEach(template => {
            const excelData = [
                ["Item Name", "Category", "Cost", "Notes"],
                ...template.items.map(item => [item.name, formatCategory(item.category), item.cost, item.notes || ''])
            ];
                            
            // Add summary row
            excelData.push(["", "", "", ""]);
            excelData.push(["Total Budget", "", template.totalBudget, ""]);
            excelData.push(["Current Total", "", calculateTotal(template.items), ""]);
                            
            const ws = XLSX.utils.aoa_to_sheet(excelData);
            XLSX.utils.book_append_sheet(wb, ws, template.title.substring(0, 31)); // Sheet name max 31 chars
        });
                
        // Generate file and download
        XLSX.writeFile(wb, "All_Event_Budget_Templates.xlsx");
    }

    // Download template as PDF
    function downloadTemplatePDF(template) {
        const doc = new jsPDF();
                
        // Add title
        doc.setFontSize(18);
        doc.text(template.title, 14, 20);
                
        // Add subtitle
        doc.setFontSize(12);
        doc.setTextColor(100);
        doc.text(`Total Budget: $${template.totalBudget.toLocaleString()} | Items: ${template.items.length}`, 14, 30);
                
        // Add table header
        doc.setFontSize(12);
        doc.setTextColor(0);
        doc.setFont(undefined, 'bold');
        doc.text("Item", 14, 45);
        doc.text("Category", 70, 45);
        doc.text("Cost", 120, 45);
        doc.text("Notes", 150, 45);
                
        // Add items
        doc.setFont(undefined, 'normal');
        let y = 55;
        template.items.forEach(item => {
            doc.text(item.name, 14, y);
            doc.text(formatCategory(item.category), 70, y);
            doc.text(`$${item.cost.toLocaleString()}`, 120, y);
            doc.text(item.notes || '-', 150, y, { maxWidth: 50 });
            y += 10;
                            
            // Add new page if needed
            if (y > 280) {
                doc.addPage();
                y = 20;
            }
        });
                
        // Add summary
        y += 15;
        doc.setFont(undefined, 'bold');
        doc.text("Summary", 14, y);
        y += 10;
        doc.setFont(undefined, 'normal');
        doc.text(`Total Budget: $${template.totalBudget.toLocaleString()}`, 14, y);
        y += 7;
        doc.text(`Current Total: $${calculateTotal(template.items).toLocaleString()}`, 14, y);
        y += 7;
                
        const percentage = (calculateTotal(template.items) / template.totalBudget) * 100;
        doc.text(`Budget Utilization: ${Math.round(percentage)}%`, 14, y);
                
        // Save the PDF
        doc.save(`${template.title.replace(/[^a-z0-9]/gi, '_')}_Budget.pdf`);
    }

    // Download all templates as PDF
    function downloadAllTemplatesPDF() {
        const doc = new jsPDF();
                
        templates.forEach((template, index) => {
            if (index > 0) {
                doc.addPage();
            }
                            
            // Add title
            doc.setFontSize(18);
            doc.text(template.title, 14, 20);
                            
            // Add subtitle
            doc.setFontSize(12);
            doc.setTextColor(100);
            doc.text(`Type: ${formatCategory(template.type)} | Total Budget: $${template.totalBudget.toLocaleString()}`, 14, 30);
                            
            // Add table header
            doc.setFontSize(12);
            doc.setTextColor(0);
            doc.setFont(undefined, 'bold');
            doc.text("Item", 14, 45);
            doc.text("Category", 70, 45);
            doc.text("Cost", 120, 45);
            doc.text("Notes", 150, 45);
                            
            // Add items
            doc.setFont(undefined, 'normal');
            let y = 55;
            template.items.forEach(item => {
                doc.text(item.name, 14, y);
                doc.text(formatCategory(item.category), 70, y);
                doc.text(`$${item.cost.toLocaleString()}`, 120, y);
                doc.text(item.notes || '-', 150, y, { maxWidth: 50 });
                y += 10;
                                    
                // Add new page if needed
                if (y > 280) {
                    doc.addPage();
                    y = 20;
                }
            });
                            
            // Add summary
            y += 15;
            doc.setFont(undefined, 'bold');
            doc.text("Summary", 14, y);
            y += 10;
            doc.setFont(undefined, 'normal');
            doc.text(`Total Budget: $${template.totalBudget.toLocaleString()}`, 14, y);
            y += 7;
            doc.text(`Current Total: $${calculateTotal(template.items).toLocaleString()}`, 14, y);
            y += 7;
                            
            const percentage = (calculateTotal(template.items) / template.totalBudget) * 100;
            doc.text(`Budget Utilization: ${Math.round(percentage)}%`, 14, y);
        });
                
        // Save the PDF
        doc.save("All_Event_Budget_Templates.pdf");
    }
</script>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8">
                <!-- Column 1 -->
                <div>
                    <h3 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fas fa-money-bill-wave mr-2"></i>
                        Event Budget Sample
                    </h3>
                    <p class="text-gray-400">Choice of professionals for accurate event budgeting since 2025.</p>
                </div>

                <!-- Column 2 -->
                <div>
                    <h4 class="font-bold mb-4">Resources</h4>
                    <ul class="space-y-2">
                        <li><a href="how-to-make-a-budget-for-an-event.html" class="text-gray-400 hover:text-white transition">How to make a budget for an event</a></li>
                       
                    </ul>
                </div>

                <!-- Column 3 -->
                <div>
                    <h4 class="font-bold mb-4">Company</h4>
                    <ul class="space-y-2">
                        <li><a href="about-us.html" class="text-gray-400 hover:text-white transition">About Us</a></li>
                       
                    </ul>
                </div>

                <!-- Column 4 -->
                <div>
                    <h4 class="font-bold mb-4">Contact</h4>
                    <ul class="space-y-2">
                        <li class="flex items-center">
                            <i class="fas fa-envelope mr-2 text-gray-400"></i>
                            <a href="mailto:hello@eventbudgetpro.com" class="text-gray-400 hover:text-white transition">eventbudgetsample@gmail.com</a>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone mr-2 text-gray-400"></i>
                            <a href="tel:+18005551234" class="text-gray-400 hover:text-white transition">(757) 949-4621</a>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-map-marker-alt mr-2 text-gray-400"></i>
                            <span class="text-gray-400">Virginia Beach, VA</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Event Budget Sample. All rights reserved.</p>
            </div>
        </div>
    </footer>
<script src="index.js"></script>
   
</body>
</html>
